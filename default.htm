<!doctype html>
<html>
  <header>
    <title>test webSocket</title>
    <script src="https://code.jquery.com/jquery.js" type=""></script>
    <link rel="stylesheet" type="text/css" href="" />
  </header>
  <body>
    <div
      class="c-header"
      style="">
      </div>
    <div
      class="c-nav"
      style="">
      <pre style="" id="ready"></pre>
      </div>
    <div
      class="c-main"
      style="">
      <!---->
      <pre style="font-size:17px;line-height:132%;border-width:7px 21px;border-style:double solid;border-color:#ff0000 #0000ff;background-color:#000;color:#ffff;margin:0;width:calc(80% - 42px);left:0px;position:relative;top:calc(0px);z-index:+1" id="t1"></pre>
      <!---->
      <!---->
      <pre style="font-size:17px;line-height:132%;border-width:7px 21px 7px 21px;border-style:double solid double solid;border-color:#ff0000 #0000ff #ff0000 #0000ff;background-color:#000;color:#ffff;white-space:pre-wrap;word-wrap:break-word;margin:0;width:calc(80% - 42px);left:80%;position:relative;top:calc(-100%);z-index:+3" id="consoleShow"></pre>
      <!---->
      <!---->
      <pre style="font-size:17px;line-height:132%;border-width:7px 21px;border-style:double solid;border-color:#ff0000 #0000ff;background-color:#000;color:#ffff;margin:0;width:calc(80% - 42px);left:90%;position:relative;top:calc(-200%);z-index:+5" id="t2"></pre>
      <!---->
      <style><!--
      * {
        width: 100%;
        height: 100%;
        line-height: 100%;
        margin: 0 auto;
        padding: 0
      }
      body {
        /* min-width: 1002px;
        background-color: #ffffff;
        min-height: 521px; */
      }
      /*scroll-custom-webkit {
        -webkit-scrollbar: ; -webkit-scrollbar-button: ; -webkit-scrollbar-thumb: ; -webkit-scrollbar-track: ; -webkit-scrollbar-track-piece: ; -webkit-scrollbar-corner: ; -webkit-resizer: ;
      }*/
      .c-header {
        height: calc(23% - 47px - 6px)
      }
      .c-nav {
        margin: 3px auto;
        background-color: #cccccc;
        height: 47px
      }
      .c-nav pre {
        height: 47px;
        line-height: 47px;
        /**/
      }
      .c-main {
        overflow: hidden;
        width: calc(100% - 10%);
        height: 60%
      }
      .c-fgx {
        margin: 3px auto;
        background-color: #ccc;
        height: 19px
      }
      .c-fgx pre {
        height: 17px;
        line-height: 17px;
        /**/
      }
      .c-footer {
        height: calc(17% - 19px - 6px)
      }
      *::-webkit-scrollbar {
        width: 0px
      }
      div {
        /* display: flex;
        justify-content: center;
        align-items: center */
      }
      pre {
        overflow-y: scroll;
        width: calc(100% - 42px);
        height: calc(100% - 14px);
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      --></style>
      <script>$(document).ready(function(){
        pre = document.getElementsByTagName("pre")
        ///
        var spaceWid = 0.2*$(".c-main").width()/(pre.length-2-1);$(".c-main pre").each(function(i,o){ $(o).css("left",""+(i!=0?0.8*$(".c-main").width()+spaceWid*(i-1):0)+"px") });//console.log()
        ///
        var wss = new WebSocket("ws://"+self.location.host+"/?id={{.tstmp}}")
        wss.onmessage = function(e) {
          log = eval('('+e.data+')'); for (obj of pre) { if (log[obj.id]==undefined) {continue};obj.textContent = (obj.id=="ready"||obj.id=="call"?"":obj.textContent) + (log[obj.id].match(/\n$/)!=null ? log[obj.id] : log[obj.id]) + (obj.id=="ready"||obj.id=="call"?"":"\n");obj.scrollTop=obj.scrollHeight }; // console.log(log)
        }
        ///console.log(wss.readyState)
        ///
        var curShow = 0;$(".c-main pre").each(function(i,o){
          $(o).bind("click", function(){ /**/;if (i>curShow){for (c=curShow+1;c<=i;c= c+1){ $(".c-main pre").eq(c).animate({"left":""+(c*spaceWid)+"px"}) }}else{for (c=curShow;c>i;c= c-1){ $(".c-main pre").eq(c).animate({"left":""+(/*0.8**/$(".c-main").width()-(pre.length-2-c)*spaceWid)+"px"}) }};curShow = i })
        });//console.log()
        ///
        ///obj.scrollTop = obj.scrollHeight
      })</script>
    </div>
    <div
      class="c-fgx"
      style="">
      <pre style="" id="call"></pre>
      </div>
    <div
      class="c-footer"
      style="">
      </div>
  </body>
</html>